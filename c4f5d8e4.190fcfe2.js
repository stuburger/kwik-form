(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{139:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(145),o=a.n(i),u=a(147),l=a(146),c=a(144),s=a(148),m=a(133),d=a.n(m),b=(a(172),a(176),a(178),a(181)),f=a(3),p=(a(12),a(184)),v=a(182),h=a.n(v),y=a(186);function O(e){return null!==e&&e instanceof Object}function j(e){return"function"==typeof e}function g(e,t,a){if(!O(e))return a;var r=function(e,t){for(var a=e,r=0,n=t.length;a&&r<n;)a=a[t[r]],r+=1;return r&&r===n?a:void 0}(e,"string"==typeof t?t.split("."):t);return void 0===r?a:r}var E=Symbol("uniq");function C(e){var t=Object(r.useContext)(e);if(t===E)throw new Error("A Consumer component can only appear inside a <Form /> (Provider) component that belongs to the same context.");return t}var _=function(e,t){return e?e.concat("."+t):""+t};function F(e,t,a){var r=C(t),n=r.path,i=r.value,o=void 0===i?{}:i,u=r.errors,l=void 0===u?{}:u,c=r.visited,s=void 0===c?{}:c,m=r.touched,d=void 0===m?{}:m,b=r.branchProps,f=void 0===b?{}:b,v=r.initialValue,h=void 0===v?{}:v;return Object(p.a)(Object(p.a)({},r),{path:_(n,e),touched:d[e],visited:s[e],errors:l[e],initialValue:h[e],value:void 0===o[e]?a:o[e],branchProps:Object.keys(f).reduce((function(t,a){return t[a]=O(f[a])?f[a][e]:void 0,t}),{})})}function V(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}function k(e){function t(t){var a=Object(r.useRef)([]),n=t,i=n.disabled,o=n.onSubmit,u=n.initialValue,l=n.initialSubmitCount,c=void 0===l?0:l,s=n.initialTouched,m=void 0===s?{}:s,d=n.initialVisited,b=void 0===d?{}:d,f=n.onStateChange,v=n.persistFieldState,O=n.onFormValueChange,j=n.submitUnregisteredValues,E=n.rememberStateOnReinitialize,C=Object(r.useReducer)((function(e,t){return function(e,t){return(Array.isArray(t)?t:[t]).reduce((function(e,t){switch(t.type){case"mount":e.initialMount=!0;break;case"set_form_value":var a=t.payload.value;e.formValue=a;break;case"set_active_field":var r=t.payload.path;e.activeField=r;break;case"unset_touched":r=t.payload.path;e.touched=Object(y.a)(e.touched,r);break;case"set_touched":var n=t.payload;r=n.path,a=n.value;e.touched=Object(y.b)(e.touched,r,a);break;case"set_visited":var i=t.payload;r=i.path,a=i.value;e.visited=Object(y.b)(e.visited,r,a);break;case"set_form_touched":a=t.payload.value;e.touched=a;break;case"set_form_visited":a=t.payload.value;e.visited=a;break;case"set_value":var o=t.payload,u=(r=o.path,a=o.value,e.formValue);e.formValue=Object(y.b)(u,r,a);break;case"unset_visited":r=t.payload.path;e.visited=Object(y.a)(e.visited,r);break;case"set_error":var l=e.errors,c=e.errorCount,s=t.payload,m=(r=s.path,s.error),d=g(l,r,[]),b=Array.isArray(d)?Object(p.c)(d,[m]):[m];e.errorCount=c+1,e.errors=Object(y.b)(l,r,b);break;case"unset_error":l=e.errors,c=e.errorCount;var f=t.payload,v=(r=f.path,f.error),h=(d=g(l,r,[])).filter((function(e){return e!==v}));e.errorCount=c-1,e.errors=h.length?Object(y.b)(l,r,h):Object(y.a)(l,r);break;case"set_submit_count":a=t.payload.value;e.submitCount=a;break;case"inc_submit_count":var O=e.submitCount;a=t.payload.value;e.submitCount=O+a;break;default:throw new Error("unknown action")}return e}),Object(p.a)({},e))}(e,t)}),{errors:{},errorCount:0,activeField:null,initialMount:!1,touched:m,visited:b,submitCount:c,formValue:u||{}}),_=C[0],F=C[1],k=_.formValue,S=_.initialMount,N=_.visited,w=_.touched,D=_.errorCount,P=_.errors,A=_.submitCount,T=_.activeField,x=i||!S,I=V(_),R=V(u);Object(r.useEffect)((function(){F([{type:"mount",payload:void 0}])}),[]),Object(r.useEffect)((function(){I&&f(I,_)}),[f,_,I]);var M=null==I?void 0:I.formValue;Object(r.useEffect)((function(){M&&("function"!=typeof O||h()(M,k)||O(M,k))}),[O,k,M]),Object(r.useEffect)((function(){if(!h()(R,u)){var e=[{type:"set_form_value",payload:{value:u}}];E||(e=e.concat([{type:"set_form_touched",payload:{value:m}},{type:"set_form_visited",payload:{value:b}},{type:"set_submit_count",payload:{value:c}}])),F(e)}}),[u,m,b,c,E]);var U=Object(r.useCallback)((function(e){a.current.push(e)}),[]),z=Object(r.useCallback)((function(e){a.current=a.current.filter((function(t){return!t.startsWith(e)})),v||F([{type:"unset_touched",payload:{path:e}},{type:"unset_visited",payload:{path:e}}])}),[v]),J=Object(r.useCallback)((function(e,t){F({type:"set_error",payload:{path:e,error:t}})}),[]),Y=Object(r.useCallback)((function(e,t){F({type:"unset_error",payload:{path:e,error:t}})}),[]),$=Object(r.useCallback)((function(){F({type:"inc_submit_count",payload:{value:1}})}),[]),q=function(){var e;x||o&&!1!==o(j?k:(e=k,a.current.reduce((function(t,a){return Object(y.b)(t,a,g(e,a))}),{})),X())&&$()},B=Object(r.useCallback)((function(e,t,a){if(void 0===a&&(a=!0),!x){var r=[{type:"set_value",payload:{path:e,value:t}}];a&&r.push({type:"set_touched",payload:{path:e,value:a}}),F(r)}}),[x]),W=Object(r.useCallback)((function(e){x||F({type:"set_form_value",payload:{value:e(k)}})}),[k,x]),Z=Object(r.useCallback)((function(e){x||F({type:"set_form_touched",payload:{value:e(w)}})}),[x,w]),G=Object(r.useCallback)((function(e,t){x||F([{type:"set_visited",payload:{path:e,value:t}},{type:"set_active_field",payload:{path:null}}])}),[x]),H=Object(r.useCallback)((function(e){x||F({type:"set_form_visited",payload:{value:e(N)}})}),[N,x]),L=Object(r.useCallback)((function(e){x||F({type:"set_active_field",payload:{path:e}})}),[x]),K=Object(r.useCallback)((function(){x||F([{type:"set_form_value",payload:{value:u}},{type:"set_form_touched",payload:{value:m}},{type:"set_form_visited",payload:{value:b}},{type:"set_submit_count",payload:{value:c}}])}),[c,m,u,b,x]),Q=Object(r.useCallback)((function(){x||F([{type:"set_form_touched",payload:{value:{}}},{type:"set_form_visited",payload:{value:{}}},{type:"set_submit_count",payload:{value:0}}])}),[x]);function X(){var e=!S||0===D,t=S&&!h()(u,k);return{submit:q,errors:P,touched:w,visited:N,resetForm:K,formValue:k,errorCount:D,forgetState:Q,formIsDirty:t,activeField:T,submitCount:A,formIsValid:e,initialValue:u,initialMount:S,setFormValue:W,setFormTouched:Z,setFormVisited:H}}var ee=t.children,te=X();return Object(r.createElement)(e,{value:Object(p.a)(Object(p.a)({},te),{submit:q,setValue:B,path:"",visitField:G,touchField:function(e,t){x||F({type:"set_touched",payload:{path:e,value:t}})},registerError:J,registerField:U,setActiveField:L,unregisterError:Y,unregisterField:z,branchProps:{},sharedProps:{},value:k})},function(e){return"function"==typeof e}(ee)?ee(te):ee)}return t.defaultProps={rememberStateOnReinitialize:!1,submitUnregisteredValues:!1,initialValue:{},initialTouched:{},initialVisited:{},initialSubmitCount:0,onStateChange:function(){return!1}},t}function S(e){e.path;return null}var N,w=function(e){var t=e.msg,a=e.path,n=e.registerError,i=e.unregisterError;return Object(r.useEffect)((function(){return n(a,t),function(){return i(a,t)}}),[t,a,n,i]),null};function D(e){return function(t){var a=C(e),n=t.path,i=void 0===n?"":n,o=t.msg,u=t.children,l=void 0===u?null:u;return"string"==typeof o?Object(r.createElement)(w,Object(p.a)({key:o+i},a,{msg:o,path:i})):l}}function P(e){return"radio"===e||"checkbox"===e}function A(e){var t=D(e);return function(a){var n=a.name,i=a.render,o=a.validate,u=a.component,l=a.forwardRef,c=Object(p.b)(a,["name","render","validate","component","forwardRef"]),s=F(n,e),m=s.path,d=s.registerField,b=s.unregisterField,f=s.setValue,v=s.setActiveField;Object(r.useEffect)((function(){return d(m),function(){return b(m)}}),[m,d,b]);var h=Object(r.useCallback)((function(e,t){void 0===t&&(t=!0),f(m,j(e)?e(s.value):e,t)}),[s.value,f,m]),y=s.touchField,O=Object(r.useCallback)((function(e){y(m,e)}),[y,m]),g=s.visitField,E=Object(r.useCallback)((function(e){g(m,e)}),[g,m]),C=Object(r.useCallback)((function(e){var t=e.target,a=t.value,r=t.type,n=t.checked,i=a;if(/number|range/.test(r)){var o=parseFloat(i);i=Number.isNaN(o)?"":o}else P(r)&&(i=n);h(i)}),[h]),_=Object(r.useCallback)((function(){v(m)}),[v,m]),V=Object(r.useCallback)((function(){s.visited?v(null):g(m,!0)}),[v,g,m,s.visited]),k={path:s.path,setValue:h,submit:s.submit,errors:s.errors||[],visited:!!s.visited,touched:!!s.touched,setTouched:O,setVisited:E,formValue:s.formValue,resetForm:s.resetForm,setFormValue:s.setFormValue,submitCount:s.submitCount,forgetState:s.forgetState,initialValue:s.initialValue,setFormVisited:s.setFormVisited,setFormTouched:s.setFormTouched,isActive:s.activeField===m,isValid:0===(s.errors||[]).length,isDirty:s.formIsDirty&&s.initialValue!==s.value},N={onBlur:V,onFocus:_,onChange:C,name:n.toString(),value:P(c.type)?c.value:s.value},w=Object(p.a)(Object(p.a)(Object(p.a)({meta:k,input:N},s.branchProps),s.sharedProps),c),D=[];if(u&&"string"!=typeof u){var A=u;D=[Object(r.createElement)(A,Object(p.a)({key:"comp",ref:l},w))]}else if(i)D.push(i(w));else if("string"==typeof u){var T=w.input,x=(w.meta,Object(p.b)(w,["input","meta"]));D=[Object(r.createElement)(u,Object(p.a)(Object(p.a)(Object(p.a)({},T),x),{ref:l,key:"comp"}))]}else D=[Object(r.createElement)(S,Object(p.a)({key:"comp",path:k.path},w))];for(var I,R=null==(I=o)?[]:Array.isArray(I)?I:[I],M=R.length,U=0;U<M;U+=1){var z=R[U](s.value,s.formValue);z&&D.push(Object(r.createElement)(t,{key:z,path:m,msg:z}))}return Object(r.createElement)(r.Fragment,null,D)}}function T(e){return function(t){var a=t.name,n=t.children,i=t.fallback,o=F(a,e,void 0===i?[]:i);Object(r.useEffect)((function(){return o.registerField(o.path),function(){return o.unregisterField(o.path)}}),[o.registerField,o.unregisterField,o.path]);var u=Object(r.useCallback)((function(e){o.setValue(o.path,"function"==typeof e?e(o.value):e,!1)}),[o.value,o.setValue,o.path]),l=Object(r.useCallback)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=Object(p.c)(o.value),r=a.push.apply(a,e);return u(a),r}),[o.value,u]),c=Object(r.useCallback)((function(){var e=Object(p.c)(o.value),t=e.pop();return u(e),t}),[o.value,u]),s=Object(r.useCallback)((function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];var r=Object(p.c)(o.value);return r.splice.apply(r,Object(p.c)([e,0],t)),u(r),r.length}),[o.value,u]),m=Object(r.useCallback)((function(e){var t=Object(p.c)(o.value),a=t.splice(e,1);return u(t),a[0]}),[o.value,u]),d=Object(r.useCallback)((function(){var e=Object(p.c)(o.value),t=e[0];return u(e.splice(1)),t}),[o.value,u]),b=Object(r.useCallback)((function(e,t){var a=Object(p.c)(o.value);a[e]=[a[t],a[t]=a[e]][0],u(a)}),[o.value,u]),f=Object(r.useCallback)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=Object(p.c)(o.value),r=a.unshift.apply(a,e);return u(a),r}),[o.value,u]);return Object(r.createElement)(e.Provider,{value:o},"function"==typeof n?n(o.value,{pop:c,push:l,swap:b,shift:d,insert:s,remove:m,unshift:f,setValue:u}):n)}}function x(e){var t=e.Provider;function a(a){var n=C(e),i=Object(p.a)({},n),o=a.children,u=a.mode,l=Object(p.b)(a,["children","mode"]);return"branch"===u?i.branchProps=Object(p.a)(Object(p.a)({},i.branchProps),l):i.sharedProps=Object(p.a)(Object(p.a)({},i.sharedProps),l),Object(r.createElement)(t,{value:i},o)}return a.defaultProps={mode:"default"},a}function I(){var e,t=Object(r.createContext)(E),a=t.Provider,n=function(e){return{useYaflContext:function(){return C(e)}}}(t);return Object(p.a)(Object(p.a)({},n),{Form:k(a),Section:(e=t,function(t){var a=t.name,n=t.children,i=t.fallback,o=F(a,e,void 0===i?{}:i),u=o.registerField,l=o.unregisterField;Object(r.useEffect)((function(){return u(o.path),function(){return l(o.path)}}),[o.path,u,l]);var c=Object(r.useCallback)((function(e){o.setValue(o.path,j(e)?e(o.value):e,!1)}),[o.path,o.value,o.setValue]);return Object(r.createElement)(e.Provider,{value:o},"function"==typeof n?n(o.value,{setValue:c}):n)}),Repeat:T(t),Field:A(t),FormError:D(t),ForwardProps:x(t)})}(N=I()).Field,N.Form,N.ForwardProps,N.Repeat,N.Section,N.FormError,N.useYaflContext;var R=a(2);function M(e){const{input:t,meta:a,busy:r,label:i,type:u,placeholder:l}=e,{isValid:c,visited:s,submitCount:m,errors:d=[]}=a,b=!c&&(s||m>0);return n.a.createElement("div",{className:"input-group"},n.a.createElement("label",{htmlFor:t.name},i),r&&n.a.createElement("span",{className:"input-validating",role:"img","aria-label":"Validating"},"\ud83e\udd1e"),n.a.createElement("input",Object(R.a)({},t,{type:u,placeholder:l,className:o()("text-input",{error:b})})),b&&n.a.createElement("div",{className:"input-feedback"},d[0]))}const U=e=>{if(null==e||""===e)return"This field is required"},z=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,J=e=>t=>{if(!z.test(t))return e||"Not a valid email address"};var Y=a(185),$=a.n(Y);class q extends r.Component{constructor(e){super(e),this.state={showChangeEffect:!1}}componentDidMount(){this.timeout=null}shouldComponentUpdate(e,t){const{value:a}=this.props,{showChangeEffect:r}=this.state;return t.showChangeEffect!==r||!$()(a,e.value)}componentDidUpdate(e){const{value:t}=this.props;$()(t,e.value)||(this.setState(()=>({showChangeEffect:!0})),this.timeout=setTimeout(()=>{this.isUnmounting||this.setState(()=>({showChangeEffect:!1}))},500))}componentWillUnmount(){this.isUnmounting=!0,clearTimeout(this.timeout)}render(){const{value:e,spacing:t=2}=this.props,{showChangeEffect:a}=this.state;return n.a.createElement("pre",{className:o()("json-formatted",{"change-fade":!a})},JSON.stringify(e,null,t))}}var B=I(),W=B.Form,Z=B.Section,G=B.Field,H=B.FormError,L=B.useYaflContext,K={fullName:"",age:0,contact:{tel:"",email:"",address:{streetNo:""}}},Q=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={fetching:!1,submitting:!1,formData:K,asyncValidating:!1,asyncEmailError:null},a.setFormData=a.setFormData.bind(Object(b.a)(a)),a.onFormValueChange=a.onFormValueChange.bind(Object(b.a)(a)),a.validateEmailAsync=a.validateEmailAsync.bind(Object(b.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a}Object(f.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){this.setState({fetching:!0}),this.setFormData(Object.assign({},K))},a.setFormData=function(e){return this.setState({formData:e,fetching:!1,submitting:!1}),e},a.onFormValueChange=function(e,t){var a=t.contact.email;e.contact.email!==a&&this.validateEmailAsync(a)},a.validateEmailAsync=function(e){var t=this;this.setState({asyncValidating:!0}),setTimeout((function(){"admin@admin.com"===e?t.setState({asyncEmailError:"Nice try!",asyncValidating:!1}):t.setState({asyncEmailError:null,asyncValidating:!1})}),1e3)},a.handleSubmit=function(e,t){var a=this,r=t.formIsValid,n=t.formIsDirty;return!r||!!n&&(this.setState({submitting:!0}),setTimeout((function(){a.setFormData(e)}),1e3),!0)},a.render=function(){var e=this.state,t=e.formData,a=e.fetching,r=e.submitting,i=e.asyncEmailError,o=e.asyncValidating;return n.a.createElement(W,{initialValue:t,submitUnregisteredValues:!0,onSubmit:this.handleSubmit,onFormValueChange:this.onFormValueChange},(function(e){return n.a.createElement("form",{onSubmit:function(t){e.submit(),t.preventDefault()}},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col col--4"},n.a.createElement("p",{className:"hero__subtitle"},"Form Value"),n.a.createElement(q,{value:e.formValue})),n.a.createElement("div",{className:"col col--4"},n.a.createElement("p",{className:"hero__subtitle"},"Demo Form"),n.a.createElement(G,{name:"fullName",label:"Full Name",placeholder:"E.g. John Smith",validate:[U,(l=3,e=>{if(e.length<l)return`This field should be at least ${l} characters.`})],component:M}),n.a.createElement(G,{name:"age",type:"number",parse:Number.parseInt,label:"Age",validate:[U,(t=5,u="Must be at least 5 years old!",e=>{if(e<t)return u||`Should be at least ${t}.`})],placeholder:"E.g. 29",component:M}),n.a.createElement(Z,{name:"contact"},n.a.createElement(G,{name:"email",label:"Email",placeholder:"E.g. example@email.com",validate:[U,J()],component:M,busy:o}),n.a.createElement(H,{path:"contact.email",msg:i}),n.a.createElement(Z,{name:"address"},n.a.createElement(G,{name:"postalCode",label:"Postal Code",placeholder:"Postal Code",component:M}))),n.a.createElement(X,{submitting:r,fetching:a})),n.a.createElement("div",{className:"col col--4"},n.a.createElement("p",{className:"hero__subtitle"},"Meta State"),n.a.createElement(q,{value:{activeField:e.activeField,submitCount:e.submitCount,errorCount:e.errorCount,formIsValid:e.formIsValid,formIsDirty:e.formIsDirty,touched:e.touched}})),n.a.createElement("div",{className:"col col--12"},n.a.createElement("p",{className:"hero__subtitle"},"Errors"),n.a.createElement(q,{value:{errors:e.errors}}))));var t,u,l}))},t}(r.Component),X=function(e){var t=e.fetching,a=e.submitting,r=L();return n.a.createElement("button",{type:"submit",className:"button button--outline button--primary text--right",disabled:t||a},t?"Loading \u23f3":a?"Saving \u23f3":r.formIsDirty?"Save \ud83d\ude80":"Saved \ud83d\udc4d")};t.default=function(){const e=Object(c.a)(),{siteConfig:t={}}=e;return n.a.createElement(u.a,{title:"Hello from "+t.title,description:"Description will go into a meta tag in <head />"},n.a.createElement("header",{className:o()("hero hero--primary",d.a.heroBanner)},n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"hero__title"},t.title),n.a.createElement("p",{className:"hero__subtitle"},t.tagline),n.a.createElement("div",{className:d.a.buttons},n.a.createElement(l.a,{className:o()("button button--secondary button--lg",d.a.getStarted),to:Object(s.a)("docs/")},"Get Started")))),n.a.createElement("div",{className:"container margin-top--md"},n.a.createElement(Q,null)))}}}]);